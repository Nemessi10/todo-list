## REST API для Компонента "Групи та Членство"

**Базовий URL:** `/api/v1`

Цей компонент дозволяє користувачам створювати групи, керувати ними, а також приєднуватися до груп та залишати їх. Всі API-запити вимагають автентифікації.

### Ресурс: Групи (`/groups`)

#### 1. Створення нової групи

* **`POST /groups`**:
    * **Призначення**: Створення нової групи поточним автентифікованим користувачем, який стає її творцем.
    * **Запит**:
        * **Метод**: `POST`
        * **URL**: `/api/v1/groups`
        * **Заголовки**: `Authorization: Bearer <accessToken>` (обов'язково), `Content-Type: application/json`
        * **Тіло (JSON)**:
            * `group_name` (рядок, обов'язково): Назва групи.
            * `group_description` (рядок, опціонально): Опис групи.
            ```json
            {
              "group_name": "Family Notes",
              "group_description": "Shared notes for family members."
            }
            ```
        * **Успішна відповідь (201 Created)**: Об'єкт створеної групи.
            ```json
            {
              "group_id": 1,
              "creator": 123,
              "group_name": "Family Notes",
              "group_description": "Shared notes for family members."
            }
            ```
        * **Можливі помилки**:
            * `400 Bad Request`: Некоректні або відсутні дані.
            * `401 Unauthorized`: Неавторизований доступ.
            * `500 Internal Server Error`: Загальна помилка сервера.

#### 2. Отримання списку груп

* **`GET /groups`**:
    * **Призначення**: Отримання списку всіх груп, у яких поточний користувач є членом або творцем. Можлива фільтрація та пагінація.
    * **Запит**:
        * **Метод**: `GET`
        * **URL**: `/api/v1/groups`
        * **Заголовки**: `Authorization: Bearer <accessToken>` (обов'язково)
        * **Параметри запиту (query parameters)**:
            * `isMember` (булеве, опціонально): Фільтрувати лише групи, де користувач є членом.
            * `isCreator` (булеве, опціонально): Фільтрувати лише групи, створені користувачем.
            * `limit` (ціле, опціонально): Кількість груп на сторінці.
            * `offset` (ціле, опціонально): Зміщення від початку списку.
        * **Успішна відповідь (200 OK)**: Масив об'єктів груп.
            ```json
            [
              {
                "group_id": 1,
                "creator": 123,
                "group_name": "Family Notes",
                "group_description": "Shared notes for family members."
              },
              {
                "group_id": 2,
                "creator": 456,
                "group_name": "Work Project",
                "group_description": "Project collaboration notes."
              }
            ]
            ```
        * **Можливі помилки**:
            * `401 Unauthorized`: Неавторизований доступ.
            * `500 Internal Server Error`: Загальна помилка сервера.

#### 3. Отримання інформації про конкретну групу

* **`GET /groups/{group_id}`**:
    * **Призначення**: Отримання детальної інформації про конкретну групу. **Важливо**: Користувач повинен бути членом групи або її творцем, щоб отримати інформацію.
    * **Запит**:
        * **Метод**: `GET`
        * **URL**: `/api/v1/groups/{group_id}` (де `{group_id}` - ідентифікатор групи)
        * **Заголовки**: `Authorization: Bearer <accessToken>` (обов'язково)
        * **Успішна відповідь (200 OK)**: Об'єкт групи.
            ```json
            {
              "group_id": 1,
              "creator": 123,
              "group_name": "Family Notes",
              "group_description": "Shared notes for family members."
            }
            ```
        * **Можливі помилки**:
            * `401 Unauthorized`: Неавторизований доступ.
            * `403 Forbidden`: Користувач не є членом або творцем групи.
            * `404 Not Found`: Групу з вказаним ідентифікатором не знайдено.
            * `500 Internal Server Error`: Загальна помилка сервера.

#### 4. Оновлення інформації про групу

* **`PUT /groups/{group_id}`**:
    * **Призначення**: Оновлення назви або опису групи. Дозволено лише творцеві групи.
    * **Запит**:
        * **Метод**: `PUT`
        * **URL**: `/api/v1/groups/{group_id}`
        * **Заголовки**: `Authorization: Bearer <accessToken>` (обов'язково), `Content-Type: application/json`
        * **Тіло (JSON)**:
            * `group_name` (рядок, опціонально): Нова назва групи.
            * `group_description` (рядок, опціонально): Новий опис групи.
            ```json
            {
              "group_name": "Updated Family Notes",
              "group_description": "Revised description for family collaboration."
            }
            ```
        * **Успішна відповідь (200 OK)**: Оновлений об'єкт групи.
        * **Можливі помилки**:
            * `400 Bad Request`: Некоректні дані.
            * `401 Unauthorized`: Неавторизований доступ.
            * `403 Forbidden`: Користувач не є творцем групи.
            * `404 Not Found`: Групу не знайдено.
            * `500 Internal Server Error`: Загальна помилка сервера.

#### 5. Видалення групи

* **`DELETE /groups/{group_id}`**:
    * **Призначення**: Видалення групи. Дозволено лише творцеві групи.
    * **Запит**:
        * **Метод**: `DELETE`
        * **URL**: `/api/v1/groups/{group_id}`
        * **Заголовки**: `Authorization: Bearer <accessToken>` (обов'язково)
        * **Успішна відповідь (204 No Content)**: Групу успішно видалено.
        * **Можливі помилки**:
            * `401 Unauthorized`: Неавторизований доступ.
            * `403 Forbidden`: Користувач не є творцем групи.
            * `404 Not Found`: Групу не знайдено.
            * `500 Internal Server Error`: Загальна помилка сервера.

### Ресурс: Членство у Групах (`/groups/{group_id}/members`)

Ці ендпоінти дозволяють керувати членами конкретної групи.

#### 1. Отримання списку членів групи

* **`GET /groups/{group_id}/members`**:
    * **Призначення**: Отримання списку користувачів, які є членами вказаної групи. **Важливо**: Користувач, який робить запит, повинен бути членом або творцем групи.
    * **Запит**:
        * **Метод**: `GET`
        * **URL**: `/api/v1/groups/{group_id}/members`
        * **Заголовки**: `Authorization: Bearer <accessToken>` (обов'язково)
        * **Успішна відповідь (200 OK)**: Масив об'єктів користувачів (з `user_id` та `username`).
            ```json
            [
              { "user_id": 123, "username": "john_doe" },
              { "user_id": 456, "username": "jane_smith" }
            ]
            ```
        * **Можливі помилки**:
            * `401 Unauthorized`: Неавторизований доступ.
            * `403 Forbidden`: Користувач не є членом або творцем групи.
            * `404 Not Found`: Групу не знайдено.
            * `500 Internal Server Error`: Загальна помилка сервера.

#### 2. Додавання члена до групи

* **`POST /groups/{group_id}/members`**:
    * **Призначення**: Додавання користувача до групи. Дозволено лише творцеві групи.
    * **Запит**:
        * **Метод**: `POST`
        * **URL**: `/api/v1/groups/{group_id}/members`
        * **Заголовки**: `Authorization: Bearer <accessToken>` (обов'язково), `Content-Type: application/json`
        * **Тіло (JSON)**:
            * `user_id` (ціле, обов'язково): Ідентифікатор користувача, якого потрібно додати.
            ```json
            {
              "user_id": 456
            }
            ```
        * **Успішна відповідь (201 Created)**: Підтвердження успішного додавання або інформація про нового члена групи.
            ```json
            {
              "group_id": 1,
              "user_id": 456,
              "message": "User added to group successfully."
            }
            ```
        * **Можливі помилки**:
            * `400 Bad Request`: Некоректні дані, користувач вже є членом групи.
            * `401 Unauthorized`: Неавторизований доступ.
            * `403 Forbidden`: Користувач не є творцем групи.
            * `404 Not Found`: Групу або користувача не знайдено.
            * `500 Internal Server Error`: Загальна помилка сервера.

#### 3. Видалення члена з групи

* **`DELETE /groups/{group_id}/members/{user_id}`**:
    * **Призначення**: Видалення користувача з групи. Дозволено творцеві групи (видалення будь-якого члена) або самому користувачеві (видалення себе з групи).
    * **Запит**:
        * **Метод**: `DELETE`
        * **URL**: `/api/v1/groups/{group_id}/members/{user_id}`
        * **Заголовки**: `Authorization: Bearer <accessToken>` (обов'язково)
        * **Успішна відповідь (204 No Content)**: Члена успішно видалено.
        * **Можливі помилки**:
            * `401 Unauthorized`: Неавторизований доступ.
            * `403 Forbidden`: Користувач не має дозволу на видалення цього члена.
            * `404 Not Found`: Групу або користувача не знайдено в цій групі.
            * `500 Internal Server Error`: Загальна помилка сервера.
