### REST API для Компонента "Нотатки"

**Базовий URL:** `/api/v1`

Цей компонент відповідає за створення, отримання, оновлення та видалення нотаток, які належать певним групам.

**Важливе зауваження:** Оскільки нотатки належать групам, цей мікросервіс повинен буде перевіряти, чи є поточний автентифікований користувач членом або творцем групи, до якої належить нотатка. Це вимагатиме внутрішньої взаємодії з мікросервісом "Групи та Членство" або кешування даних про членство. Всі запити до цього компонента вимагають автентифікації.

### Ресурс: Нотатки (`/notes`)

#### 1. Створення нової нотатки в групі

* **`POST /groups/{group_id}/notes`**:
    * **Призначення**: Створення нової нотатки у вказаній групі. Користувач повинен бути членом цієї групи.
    * **Запит**:
        * **Метод**: `POST`
        * **URL**: `/api/v1/groups/{group_id}/notes`
        * **Заголовки**: `Authorization: Bearer <accessToken>`, `Content-Type: application/json`
        * **Тіло (JSON)**:
            * `title` (рядок, обов'язково): Заголовок нотатки.
            * `content` (рядок, обов'язково): Вміст нотатки.
            * `deadline` (дата, опціонально): Дедлайн для нотатки.
            ```json
            {
              "title": "Записати ідеї для проекту",
              "content": "Обговорити функціонал автентифікації та авторизації.",
              "deadline": "2025-06-15"
            }
            ```
        * **Успішна відповідь (201 Created)**: Об'єкт створеної нотатки.
            ```json
            {
              "note_id": 101,
              "group_id": 1,
              "title": "Записати ідеї для проекту",
              "content": "Обговорити функціонал автентифікації та авторизації.",
              "deadline": "2025-06-15",
              "created_at": "2025-06-08",
              "updated_at": "2025-06-08"
            }
            ```
        * **Можливі помилки**:
            * `400 Bad Request`: Некоректні або відсутні дані.
            * `401 Unauthorized`: Неавторизований доступ.
            * `403 Forbidden`: Користувач не є членом вказаної групи.
            * `404 Not Found`: Групу не знайдено.
            * `500 Internal Server Error`: Загальна помилка сервера.

#### 2. Отримання списку нотаток у групі

* **`GET /groups/{group_id}/notes`**:
    * **Призначення**: Отримання списку всіх нотаток, що належать вказаній групі. Користувач повинен бути членом цієї групи.
    * **Запит**:
        * **Метод**: `GET`
        * **URL**: `/api/v1/groups/{group_id}/notes`
        * **Заголовки**: `Authorization: Bearer <accessToken>`
        * **Параметри запиту (query parameters)**:
            * `limit` (ціле, опціонально): Кількість нотаток на сторінці.
            * `offset` (ціле, опціонально): Зміщення від початку списку.
            * `sort_by` (рядок, опціонально): Поле для сортування (`created_at`, `deadline`, `title`).
            * `order` (рядок, опціонально): Порядок сортування (`asc` або `desc`).
        * **Успішна відповідь (200 OK)**: Масив об'єктів нотаток.
            ```json
            [
              {
                "note_id": 101,
                "group_id": 1,
                "title": "Записати ідеї для проекту",
                "content": "...",
                "deadline": "2025-06-15",
                "created_at": "2025-06-08",
                "updated_at": "2025-06-08"
              },
              {
                "note_id": 102,
                "group_id": 1,
                "title": "План зустрічі",
                "content": "...",
                "deadline": null,
                "created_at": "2025-06-07",
                "updated_at": "2025-06-07"
              }
            ]
            ```
        * **Можливі помилки**:
            * `401 Unauthorized`: Неавторизований доступ.
            * `403 Forbidden`: Користувач не є членом вказаної групи.
            * `404 Not Found`: Групу не знайдено.
            * `500 Internal Server Error`: Загальна помилка сервера.

#### 3. Отримання конкретної нотатки

* **`GET /notes/{note_id}`**:
    * **Призначення**: Отримання детальної інформації про конкретну нотатку. Користувач повинен бути членом групи, до якої належить нотатка.
    * **Запит**:
        * **Метод**: `GET`
        * **URL**: `/api/v1/notes/{note_id}` (де `{note_id}` - ідентифікатор нотатки)
        * **Заголовки**: `Authorization: Bearer <accessToken>`
        * **Успішна відповідь (200 OK)**: Об'єкт нотатки.
        * **Можливі помилки**:
            * `401 Unauthorized`: Неавторизований доступ.
            * `403 Forbidden`: Користувач не є членом групи, до якої належить нотатка.
            * `404 Not Found`: Нотатку не знайдено.
            * `500 Internal Server Error`: Загальна помилка сервера.

#### 4. Оновлення існуючої нотатки

* **`PUT /notes/{note_id}`**:
    * **Призначення**: Оновлення заголовка, вмісту або дедлайну нотатки. Користувач повинен бути членом групи, до якої належить нотатка.
    * **Запит**:
        * **Метод**: `PUT`
        * **URL**: `/api/v1/notes/{note_id}`
        * **Заголовки**: `Authorization: Bearer <accessToken>`, `Content-Type: application/json`
        * **Тіло (JSON)**:
            * `title` (рядок, опціонально): Новий заголовок.
            * `content` (рядок, опціонально): Новий вміст.
            * `deadline` (дата, опціонально/nullable): Новий дедлайн (або `null` для видалення дедлайну).
            ```json
            {
              "title": "Оновлений заголовок",
              "content": "Оновлений вміст.",
              "deadline": null
            }
            ```
        * **Успішна відповідь (200 OK)**: Оновлений об'єкт нотатки.
        * **Можливі помилки**:
            * `400 Bad Request`: Некоректні дані.
            * `401 Unauthorized`: Неавторизований доступ.
            * `403 Forbidden`: Користувач не є членом групи.
            * `404 Not Found`: Нотатку не знайдено.
            * `500 Internal Server Error`: Загальна помилка сервера.

#### 5. Видалення нотатки

* **`DELETE /notes/{note_id}`**:
    * **Призначення**: Видалення нотатки. Користувач повинен бути членом групи, до якої належить нотатка.
    * **Запит**:
        * **Метод**: `DELETE`
        * **URL**: `/api/v1/notes/{note_id}`
        * **Заголовки**: `Authorization: Bearer <accessToken>`
        * **Успішна відповідь (204 No Content)**: Нотатку успішно видалено.
        * **Можливі помилки**:
            * `401 Unauthorized`: Неавторизований доступ.
            * `403 Forbidden`: Користувач не є членом групи.
            * `404 Not Found`: Нотатку не знайдено.
            * `500 Internal Server Error`: Загальна помилка сервера.
