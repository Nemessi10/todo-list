## **1. Компонент Автентифікації (`/auth`)**

### POST `/api/v1/auth/register`
- **Призначення:** Реєстрація нового користувача (створення запису у таблиці `users`).
- **Тіло:**
  ```json
  {
    "name": "Ім'я Користувача",
    "email": "newuser@example.com",
    "password": "newsecurepassword"
  }
  ```
- **Відповідь:**
  ```json
  {
    "user_id": 1,
    "username": "Ім'я Користувача",
    "email": "newuser@example.com",
    "token": "",
    "refreshToken": ""
  }
  ```
- **Помилки:** 400, 409

---

### POST `/api/v1/auth/login`
- **Призначення:** Вхід користувача (перевірка email+пароль у таблиці `users`).
- **Тіло:**
  ```json
  {
    "email": "user@example.com",
    "password": "securepassword123"
  }
  ```
- **Відповідь:**
  ```json
  {
    "user_id": 1,
    "username": "Ім'я Користувача",
    "email": "user@example.com",
    "token": "",
    "refreshToken": ""
  }
  ```
- **Помилки:** 400, 401

---

### POST `/api/v1/auth/refresh-token`
- **Призначення:** Оновлення токена доступу.
- **Тіло:**
  ```json
  { "refreshToken": "your_jwt_refresh_token" }
  ```
- **Відповідь:**
  ```json
  { "token": "" }
  ```
- **Помилки:** 401

---

### POST `/api/v1/auth/forgot-password`
- **Призначення:** Запит на скидання пароля.
- **Тіло:**
  ```json
  { "email": "user@example.com" }
  ```
- **Відповідь:** 200 OK (повідомлення про успішне надсилання інструкцій)
- **Помилки:** 400

---

### POST `/api/v1/auth/reset-password`
- **Призначення:** Встановлення нового пароля.
- **Тіло:**
  ```json
  {
    "resetToken": "some_reset_token",
    "newPassword": "newstrongpassword"
  }
  ```
- **Відповідь:** 200 OK або 204 No Content
- **Помилки:** 400, 401

---

### POST `/api/v1/auth/logout`
- **Призначення:** Вихід користувача (інвалідація токена).
- **Заголовки:** Authorization: Bearer ``
- **Відповідь:** 204 No Content
- **Помилки:** 401

---

## **2. Компонент Нотаток (`/notes`)**

> Нотатки пов’язані з групами через поле `group_id` у таблиці `notes`. Доступ до нотаток має користувач, який є учасником групи (`group_members`) або власник групи (`groups.creator`).

### GET `/api/v1/notes`
- **Призначення:** Список нотаток користувача (через його групи).
- **Query:** limit, offset, sort
- **Відповідь:**
  ```json
  [
    {
      "note_id": 1,
      "group_id": 2,
      "title": "Заголовок",
      "content": "Вміст",
      "deadline": "2025-06-01",
      "created_at": "2025-05-26",
      "updated_at": "2025-05-26"
    },
    ...
  ]
  ```
- **Помилки:** 401, 500

---

### POST `/api/v1/notes`
- **Призначення:** Створення нової нотатки (додається до групи, учасником якої є користувач).
- **Тіло:**
  ```json
  {
    "group_id": 2,
    "title": "Заголовок нотатки",
    "content": "Вміст нотатки",
    "deadline": "2025-06-01"
  }
  ```
- **Відповідь:**
  ```json
  {
    "note_id": 1,
    "group_id": 2,
    "title": "Заголовок нотатки",
    "content": "Вміст нотатки",
    "deadline": "2025-06-01",
    "created_at": "2025-05-26",
    "updated_at": "2025-05-26"
  }
  ```
- **Помилки:** 400, 401, 500

---

### GET `/api/v1/notes/{id}`
- **Призначення:** Отримання конкретної нотатки (якщо користувач має доступ до групи).
- **Відповідь:**
  ```json
  {
    "note_id": 1,
    "group_id": 2,
    "title": "Заголовок",
    "content": "Вміст",
    "deadline": "2025-06-01",
    "created_at": "2025-05-26",
    "updated_at": "2025-05-26"
  }
  ```
- **Помилки:** 401, 404, 500

---

### PUT `/api/v1/notes/{id}`
- **Призначення:** Оновлення нотатки (тільки якщо користувач має доступ до групи).
- **Тіло:**
  ```json
  {
    "title": "Новий заголовок",
    "content": "Новий вміст",
    "deadline": "2025-06-02"
  }
  ```
- **Відповідь:** Оновлений об'єкт нотатки.
- **Помилки:** 400, 401, 404, 500

---

### DELETE `/api/v1/notes/{id}`
- **Призначення:** Видалення нотатки (тільки якщо користувач має доступ до групи).
- **Відповідь:** 204 No Content
- **Помилки:** 401, 404, 500

---

## **3. Компонент Профілю Користувача (`/users/me` або `/profile`)**

### GET `/api/v1/users/me`
- **Призначення:** Інформація про поточного користувача.
- **Відповідь:**
  ```json
  {
    "user_id": 1,
    "username": "Ім'я Користувача",
    "email": "user@example.com"
  }
  ```
- **Помилки:** 401, 500

---

### PUT `/api/v1/users/me`
- **Призначення:** Оновлення профілю користувача.
- **Тіло:**
  ```json
  {
    "username": "Нове Ім'я",
    "email": "new@example.com"
  }
  ```
- **Відповідь:** Оновлений об'єкт користувача.
- **Помилки:** 400, 401, 409, 500

---

### PUT `/api/v1/users/me/password`
- **Призначення:** Зміна пароля.
- **Тіло:**
  ```json
  {
    "currentPassword": "старий_пароль",
    "newPassword": "новий_безпечний_пароль"
  }
  ```
- **Відповідь:** 204 No Content або 200 OK
- **Помилки:** 400, 401, 500

---

### DELETE `/api/v1/users/me`
- **Призначення:** Видалення облікового запису.
- **Відповідь:** 204 No Content
- **Помилки:** 401, 500

---

## **4. Компонент Груп (Groups API)**

### **GET /api/v1/groups**
**Призначення:** Отримати всі групи, в яких користувач є учасником або творцем.
**Запит:**
- Заголовки: `Authorization: Bearer `
- Query: `limit`, `offset`, `sort` (опціонально)

**Відповідь (200 OK):**
```json
[
  {
    "group_id": 1,
    "group_name": "Моя група",
    "group_description": "Опис групи",
    "creator": 2
  },
  ...
]
```
**Можливі помилки:** 401, 500

---

### **POST /api/v1/groups**
**Призначення:** Створити нову групу (додає запис у таблицю `groups` і автоматично додає творця у `group_members`).
**Запит:**
- Заголовки: `Authorization: Bearer `, `Content-Type: application/json`
- Тіло:
```json
{
  "group_name": "Нова група",
  "group_description": "Опис нової групи"
}
```
**Відповідь (201 Created):**
```json
{
  "group_id": 5,
  "group_name": "Нова група",
  "group_description": "Опис нової групи",
  "creator": 1
}
```
**Можливі помилки:** 400, 401, 500

---

### **GET /api/v1/groups/{id}**
**Призначення:** Отримати детальну інформацію про групу (доступно учасникам групи).
**Запит:**
- Заголовки: `Authorization: Bearer `

**Відповідь (200 OK):**
```json
{
  "group_id": 1,
  "group_name": "Моя група",
  "group_description": "Опис групи",
  "creator": 2,
  "members": [
    { "user_id": 2, "username": "Ivan", "email": "ivan@example.com" },
    { "user_id": 3, "username": "Olena", "email": "olena@example.com" }
  ]
}
```
**Можливі помилки:** 401, 403 (немає доступу), 404, 500

---

### **PUT /api/v1/groups/{id}**
**Призначення:** Оновити інформацію про групу (тільки для творця).
**Запит:**
- Заголовки: `Authorization: Bearer `, `Content-Type: application/json`
- Тіло:
```json
{
  "group_name": "Новий заголовок групи",
  "group_description": "Новий опис"
}
```
**Відповідь (200 OK):** Оновлений об'єкт групи
**Можливі помилки:** 400, 401, 403, 404, 500

---

### **DELETE /api/v1/groups/{id}**
**Призначення:** Видалити групу (тільки для творця; видаляє також всі нотатки та членство).
**Запит:**
- Заголовки: `Authorization: Bearer `

**Відповідь (204 No Content):**
**Можливі помилки:** 401, 403, 404, 500

---

## **5. Компонент Учасників Групи (Group Members API)**

### **GET /api/v1/groups/{id}/members**
**Призначення:** Отримати список учасників групи (доступно учасникам групи).
**Запит:**
- Заголовки: `Authorization: Bearer `

**Відповідь (200 OK):**
```json
[
  { "user_id": 2, "username": "Ivan", "email": "ivan@example.com" },
  { "user_id": 3, "username": "Olena", "email": "olena@example.com" }
]
```
**Можливі помилки:** 401, 403, 404, 500

---

### **POST /api/v1/groups/{id}/members**
**Призначення:** Додати користувача до групи (тільки для творця).
**Запит:**
- Заголовки: `Authorization: Bearer `, `Content-Type: application/json`
- Тіло:
```json
{ "user_id": 5 }
```
**Відповідь (201 Created):**
```json
{ "user_id": 5, "group_id": 1 }
```
**Можливі помилки:** 400, 401, 403, 404, 409 (користувач вже учасник), 500

---

### **DELETE /api/v1/groups/{id}/members/{user_id}**
**Призначення:** Видалити учасника з групи (тільки для творця; або користувач може сам вийти).
**Запит:**
- Заголовки: `Authorization: Bearer `

**Відповідь (204 No Content):**
**Можливі помилки:** 401, 403, 404, 500

---

## **6. Додатково: Нотатки групи**

### **GET /api/v1/groups/{id}/notes**
**Призначення:** Отримати всі нотатки певної групи (доступно учасникам групи).
**Запит:**
- Заголовки: `Authorization: Bearer `

**Відповідь (200 OK):**
```json
[
  {
    "note_id": 1,
    "title": "Заголовок нотатки",
    "content": "Вміст",
    "deadline": "2025-06-01",
    "created_at": "2025-05-26",
    "updated_at": "2025-05-26"
  },
  ...
]
```
**Можливі помилки:** 401, 403, 404, 500

---

## **Примітки до апі**

- **Перевірка прав:** Додавати/видаляти учасників, редагувати/видаляти групу може лише творець групи.
- **Валідація:** Перевіряйте, чи user_id існує, чи не є учасником групи вже, чи має користувач право на дію.
- **Каскадне видалення:** При видаленні групи видаляються всі нотатки та членство.
- **Всі дати у форматі ISO 8601.**
